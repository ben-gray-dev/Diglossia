!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/platform-browser"),require("@angular/animations"),require("@angular/cdk/a11y"),require("@angular/common"),require("rxjs"),require("rxjs/operators"),require("@angular/material/button"),require("@angular/material/icon")):"function"==typeof define&&define.amd?define("@ngmodule/material-carousel",["exports","@angular/core","@angular/platform-browser","@angular/animations","@angular/cdk/a11y","@angular/common","rxjs","rxjs/operators","@angular/material/button","@angular/material/icon"],e):e((t.ngmodule=t.ngmodule||{},t.ngmodule["material-carousel"]={}),t.ng.core,t.ng.platformBrowser,t.ng.animations,t.ng.cdk.a11y,t.ng.common,t.rxjs,t.rxjs.operators,t.ng.material.button,t.ng.material.icon)}(this,function(t,i,e,o,n,r,s,a,l,u){"use strict";var p=function(){function t(t){this.sanitizer=t,this.overlayColor="#00000040",this.hideOverlay=!1,this.disabled=!1}return t.prototype.ngOnInit=function(){this.image&&(this.image=this.sanitizer.bypassSecurityTrustStyle('url("'+this.image+'")'))},t.decorators=[{type:i.Component,args:[{selector:"mat-carousel-slide",template:'<ng-template>\n  <div class="carousel-slide" [style.background-image]="image">\n    <div class="carousel-slide-content"><ng-content></ng-content></div>\n    <div\n      *ngIf="!hideOverlay"\n      class="carousel-slide-overlay"\n      [style.background-color]="overlayColor"\n    ></div>\n  </div>\n</ng-template>\n',styles:[".carousel-slide{width:100%;height:100%;position:absolute;z-index:auto;background-size:cover;background-repeat:no-repeat;background-position:center}.carousel-slide-overlay{width:100%;height:100%;position:absolute;z-index:auto}.carousel-slide-content{width:100%;height:100%;position:absolute;z-index:1}"]}]}],t.ctorParameters=function(){return[{type:e.DomSanitizer}]},t.propDecorators={image:[{type:i.Input}],overlayColor:[{type:i.Input}],hideOverlay:[{type:i.Input}],disabled:[{type:i.Input}],templateRef:[{type:i.ViewChild,args:[i.TemplateRef]}]},t}(),c={Left:0,Right:1,Index:2};c[c.Left]="Left",c[c.Right]="Right",c[c.Index]="Index";var d=function(){function t(t,e,n){this.animationBuilder=t,this.renderer=e,this.platformId=n,this.timings="250ms ease-in",this.hideArrows=!0,this.hideIndicators=!0,this.color="accent",this.proportion=25,this.useKeyboard=!1,this.useMouseWheel=!1,this.change=new i.EventEmitter,this._autoplay=!0,this.autoplay$=new s.Subject,this.interval$=new s.BehaviorSubject(5e3),this.slides$=new s.BehaviorSubject(null),this._maxWidth="auto",this.maxWidth$=new s.Subject,this._loop=!0,this.loop$=new s.Subject,this._orientation="ltr",this.orientation$=new s.Subject,this.timerStop$=new s.Subject,this.destroy$=new s.Subject,this.playing=!1}return Object.defineProperty(t.prototype,"autoplay",{set:function(t){this.autoplay$.next(t),this._autoplay=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interval",{set:function(t){this.interval$.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(t){this.loop$.next(t),this._loop=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth=t,this.maxWidth$.next()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slides",{set:function(t){this.slides$.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this.orientation$.next(t),this._orientation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.listKeyManager?this.listKeyManager.activeItemIndex:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSlide",{get:function(){return this.listKeyManager?this.listKeyManager.activeItem:null},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.listKeyManager=new n.ListKeyManager(this.slidesList).withVerticalOrientation(!1).withHorizontalOrientation(this._orientation).withWrap(this._loop),this.listKeyManager.updateActiveItem(0),this.listKeyManager.change.pipe(a.takeUntil(this.destroy$)).subscribe(function(){return t.playAnimation()})},t.prototype.ngAfterViewInit=function(){var e=this;this.autoplay$.pipe(a.takeUntil(this.destroy$)).subscribe(function(t){e.stopTimer(),e.startTimer(t)}),this.interval$.pipe(a.takeUntil(this.destroy$)).subscribe(function(t){e.stopTimer(),e.resetTimer(t),e.startTimer(e._autoplay)}),this.maxWidth$.pipe(a.takeUntil(this.destroy$)).subscribe(function(){return e.slideTo(0)}),this.loop$.pipe(a.takeUntil(this.destroy$)).subscribe(function(t){return e.listKeyManager.withWrap(t)}),this.orientation$.pipe(a.takeUntil(this.destroy$)).subscribe(function(t){return e.listKeyManager.withHorizontalOrientation(t)}),this.slides$.pipe(a.takeUntil(this.destroy$),a.filter(function(t){return t&&t<e.slidesList.length})).subscribe(function(t){return e.resetSlides(t)})},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.next=function(){this["goto"](c.Right)},t.prototype.previous=function(){this["goto"](c.Left)},t.prototype.slideTo=function(t){this["goto"](c.Index,t)},t.prototype.onKeyUp=function(t){this.useKeyboard&&!this.playing&&this.listKeyManager.onKeydown(t)},t.prototype.onMouseEnter=function(){this.stopTimer()},t.prototype.onMouseLeave=function(){this.startTimer(this._autoplay)},t.prototype.onMouseWheel=function(t){if(this.useMouseWheel){t.preventDefault();var e=Math.sign(t.wheelDelta);e<0?this.next():0<e&&this.previous()}},t.prototype.onResize=function(t){this.slideTo(0)},t.prototype.onPan=function(t,e){var n=t.deltaX;this.isOutOfBounds()&&(n*=.2),this.renderer.setStyle(e,"cursor","grabbing"),this.renderer.setStyle(this.carouselList.nativeElement,"transform",this.getTranslation(this.getOffset()+n))},t.prototype.onPanEnd=function(t,e){if(this.renderer.removeStyle(e,"cursor"),!this.isOutOfBounds()&&Math.abs(t.deltaX)>.25*this.getWidth())return t.deltaX<=0?void this.next():void this.previous();this.playAnimation()},t.prototype.isOutOfBounds=function(){var t=("rtl"===this.orientation?-1:1)*(this.carouselList.nativeElement.getBoundingClientRect().left-this.carouselList.nativeElement.offsetParent.getBoundingClientRect().left),e=this.slidesList.length-1,n=-this.getWidth()*e;return 0===this.listKeyManager.activeItemIndex&&0<=t||this.listKeyManager.activeItemIndex===e&&t<=n},t.prototype.isVisible=function(){if(!r.isPlatformBrowser(this.platformId))return!1;var t=this.carouselContainer.nativeElement,e=window.pageYOffset,n=e+window.innerHeight,i=t.getBoundingClientRect(),o=e+i.top;return o+i.height<=n||e<=o},t.prototype.getOffset=function(){var t=this.listKeyManager.activeItemIndex*this.getWidth();return("rtl"===this.orientation?1:-1)*t},t.prototype.getTranslation=function(t){return"translateX("+t+"px)"},t.prototype.getWidth=function(){return this.carouselContainer.nativeElement.clientWidth},t.prototype["goto"]=function(t,e){if(!this.playing){var n="rtl"===this.orientation;switch(t){case c.Left:return n?this.listKeyManager.setNextItemActive():this.listKeyManager.setPreviousItemActive();case c.Right:return n?this.listKeyManager.setPreviousItemActive():this.listKeyManager.setNextItemActive();case c.Index:return this.listKeyManager.setActiveItem(e)}}},t.prototype.playAnimation=function(){var t=this,e=this.getTranslation(this.getOffset()),n=this.animationBuilder.build(o.animate(this.timings,o.style({transform:e}))).create(this.carouselList.nativeElement);n.onStart(function(){return t.playing=!0}),n.onDone(function(){t.change.emit(t.currentIndex),t.playing=!1,t.renderer.setStyle(t.carouselList.nativeElement,"transform",e),n.destroy()}),n.play()},t.prototype.resetSlides=function(t){this.slidesList.reset(this.slidesList.toArray().slice(0,t))},t.prototype.resetTimer=function(t){this.timer$=s.interval(t)},t.prototype.startTimer=function(t){var e=this;t&&this.timer$.pipe(a.takeUntil(this.timerStop$),a.takeUntil(this.destroy$),a.filter(function(){return e.isVisible()})).subscribe(function(){e.listKeyManager.withWrap(!0).setNextItemActive(),e.listKeyManager.withWrap(e.loop)})},t.prototype.stopTimer=function(){this.timerStop$.next()},t.decorators=[{type:i.Component,args:[{selector:"mat-carousel",template:'<div\n  #carouselContainer\n  class="carousel"\n  tabindex="0"\n  [style.max-width]="maxWidth"\n>\n  <ul\n    #carouselList\n    class="carousel-list"\n    role="listbox"\n    [style.flex-direction]="orientation === \'rtl\' ? \'row-reverse\' : \'row\'"\n  >\n    <li\n      #carouselSlide\n      *ngFor="let slide of slidesList"\n      class="carousel-slide"\n      role="option"\n      [style.padding-bottom]="proportion + \'%\'"\n      (panleft)="onPan($event, carouselSlide)"\n      (panright)="onPan($event, carouselSlide)"\n      (panend)="onPanEnd($event, carouselSlide)"\n      (pancancel)="onPanEnd($event, carouselSlide)"\n    >\n      <ng-container [ngTemplateOutlet]="slide.templateRef"></ng-container>\n    </li>\n  </ul>\n\n  <button\n    *ngIf="!hideArrows"\n    mat-icon-button\n    type="button"\n    tabindex="-1"\n    [color]="color"\n    [disabled]="!loop && currentIndex == 0"\n    (click)="previous()"\n  >\n    <mat-icon\n      *ngIf="svgIconOverrides?.arrowBack; else: defaultArrowBack"\n      [svgIcon]="svgIconOverrides.arrowBack"\n    ></mat-icon>\n    <ng-template #defaultArrowBack>\n      <mat-icon>arrow_back</mat-icon>\n    </ng-template>\n  </button>\n  <button\n    *ngIf="!hideArrows"\n    mat-icon-button\n    type="button"\n    tabindex="-1"\n    [color]="color"\n    [disabled]="!loop && currentIndex == slidesList.length - 1"\n    (click)="next()"\n  >\n    <mat-icon\n      *ngIf="svgIconOverrides?.arrowForward; else: defaultArrowForward"\n      [svgIcon]="svgIconOverrides.arrowForward"\n    ></mat-icon>\n    <ng-template #defaultArrowForward>\n      <mat-icon>arrow_forward</mat-icon>\n    </ng-template>\n  </button>\n\n  <div\n    *ngIf="!hideIndicators"\n    class="carousel-indicators"\n    tabindex="-1"\n    [style.flex-direction]="orientation === \'rtl\' ? \'row-reverse\' : \'row\'"\n  >\n    <button\n      *ngFor="let slide of slidesList; let i = index"\n      type="button"\n      tabindex="-1"\n      mat-mini-fab\n      [color]="color"\n      [disabled]="i == currentIndex"\n      (click)="slideTo(i)"\n      (focus)="carouselContainer.focus()"\n    ></button>\n  </div>\n</div>\n',styles:[".carousel{width:100%;position:relative;overflow:hidden;outline:0}.carousel>button{position:absolute;z-index:1;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.carousel>button:first-of-type{left:30px}.carousel>button:last-of-type{right:30px}.carousel-list{width:100%;margin:0;padding:0;list-style:none;display:flex;position:relative}.carousel-slide{width:100%;height:0;display:flex;flex-shrink:0;position:relative}.carousel-slide:hover{cursor:-webkit-grab;cursor:grab}.carousel-indicators{display:flex;position:absolute;bottom:15px;z-index:1;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);outline:0}.carousel-indicators>button{width:10px;height:10px;margin:7.5px}"]}]}],t.ctorParameters=function(){return[{type:o.AnimationBuilder},{type:i.Renderer2},{type:undefined,decorators:[{type:i.Inject,args:[i.PLATFORM_ID]}]}]},t.propDecorators={timings:[{type:i.Input}],svgIconOverrides:[{type:i.Input}],autoplay:[{type:i.Input}],interval:[{type:i.Input}],loop:[{type:i.Input}],hideArrows:[{type:i.Input}],hideIndicators:[{type:i.Input}],color:[{type:i.Input}],maxWidth:[{type:i.Input}],proportion:[{type:i.Input}],slides:[{type:i.Input}],useKeyboard:[{type:i.Input}],useMouseWheel:[{type:i.Input}],orientation:[{type:i.Input}],change:[{type:i.Output}],slidesList:[{type:i.ContentChildren,args:[p]}],carouselContainer:[{type:i.ViewChild,args:["carouselContainer"]}],carouselList:[{type:i.ViewChild,args:["carouselList"]}],onKeyUp:[{type:i.HostListener,args:["keyup",["$event"]]}],onMouseEnter:[{type:i.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:i.HostListener,args:["mouseleave"]}],onMouseWheel:[{type:i.HostListener,args:["mousewheel",["$event"]]}],onResize:[{type:i.HostListener,args:["window:resize",["$event"]]}]},t}(),h=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[d,p],imports:[r.CommonModule,l.MatButtonModule,u.MatIconModule],exports:[d,p]}]}],t}();t.MatCarouselComponent=d,t.MatCarouselModule=h,t.MatCarouselSlideComponent=p,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngmodule-material-carousel.umd.min.js.map